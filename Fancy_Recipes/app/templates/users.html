{% extends 'base.html' %}
{% block body %}
{% load static %}
{% load custom_tags %}

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'css/list_user.css' %}">

<div class="container">
<div class="row">
	<div class="col-lg-12">
		<div class="main-box clearfix">
			<div class="table-responsive">
				<table class="table user-list">
					<thead>
						<tr>
							<th class="text-center"><span>User</span></th>
							<th class="text-center"><span>Dołączono</span></th>
							<th class="text-center"><span>Email</span></th>
                            <th class="text-center"><span>Opis</span></th>

                            <th class="text-center"><span>Statystyki</span></th>
						</tr>
					</thead>
					<tbody>

                    {% for user in users %}
                    <tr>
							<td>
								<img src="https://cdn1.iconfinder.com/data/icons/user-avatars/57/cook-512.png" alt="Admin" class="rounded-circle" width="150">
								<a href="#" class="user-link">{{ user.name }}</a>
                                {% if user == 'U' %}
								<span class="user-subhead">User</span>
                                {% elif user == 'A' %}
                                <span class="user-subhead">Admin</span>
                                {% else %}
                                <span class="user-subhead">Cook</span>
                                {% endif %}
							</td>
							<td class="text-center">
								{{ user.join_date }}
							</td>
							<td class="text-center">
								<a href="#">{{ user.user.email }}</a>
							</td>
                            <td class="text-center" style="word-wrap: break-word;min-width: 160px;max-width: 160px;">
								<span class="label label-default">{{ user.description }}</span>
							</td>
							<td style="width: 20%;" class="text-center">
                                <div class="col-sm-7" style="margin-right: auto; margin-left: auto;">
                                    <h6 class="mb-0" style="display: flex;align-items: center;">
                                        <i class="far fa-comment fa-2x"></i></i><span style="margin-left: 1rem;">{{ num_of_comments|get_item:user.pk}}</span>
                                    </h6>
                                     <h6 class="mb-0" style="display: flex;align-items: center;">
                                         <i class="far fa-plus-square fa-2x"></i></i><span style="margin-left: 1rem;">{{ num_of_recipes|get_item:user.pk }}</span>
                                </h6>
                                </div>
							</td>
						</tr>
                        {% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
</div>
{% endblock %}